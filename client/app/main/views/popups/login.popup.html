<md-dialog aria-label="Login" ng-cloak>
    <form class="form" name="formpopup" novalidate>

        <md-dialog-content>

            <div class="form-group">
                <label>Email</label>

                <input type="email" name="email" class="form-control" ng-model="user.email" required>
            </div>

            <div class="form-group">
                <label>Password</label>

                <input type="password" name="password" class="form-control" ng-model="user.password" required>
            </div>

            <div class="form-group has-error">
                <p class="help-block" ng-show="form.email.$error.required && form.password.$error.required && submitted">
                    Please enter your email and password.
                </p>
                <p class="help-block" ng-show="form.email.$error.email && submitted">
                    Please enter a valid email.
                </p>

                <p class="help-block">{{ errors.other }}</p>
            </div>


        </md-dialog-content>


        <md-dialog-actions layout="row">

            <md-button ng-click="doLogin(formpopup)">
                Login
            </md-button>



        </md-dialog-actions>

        <button ng-click="doLogin()">login</button>
    </form>
</md-dialog>
